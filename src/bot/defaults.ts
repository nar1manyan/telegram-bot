import { bot } from '../constant/bot.state';
import { isAdmin } from './middlewares/isAdmin';
import { AdminModel } from '../model/admin.model';

export const Bot_Defaults = () => {
  bot.start(async (ctx) => {
    if (await isAdmin(ctx.update.message.from.id)) {
      ctx.replyWithMarkdown(
        `üëã *–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${ctx.update.message.from.first_name} ${ctx.update.message.from.last_name}!* üéâ\n\n` +
        `üîê *–ß—Ç–æ–±—ã –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É, –≤–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å:*\n\n` +
        `üí° *–ü—Ä–∏–º–µ—Ä:* \`/password –≤–∞—à_–ø–∞—Ä–æ–ª—å\``,
        { parse_mode: 'Markdown' },
      );
    } else {
      ctx.replyWithMarkdown(
        `üö´ *–≠—Ç–æ —á–∞—Å—Ç–Ω—ã–π –±–æ—Ç!* üîí\n\n` +
        `‚ö†Ô∏è *–î–æ—Å—Ç—É–ø –≤—ã–¥–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ —Å–æ–∑–¥–∞—Ç–µ–ª—è* [@n1endon](tg://user?id=n1endon).\n\n` +
        `‚ùå *–ë–æ—Ç –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç –≤–∞–º –æ—Ç–≤–µ—á–∞—Ç—å, –ø–æ–∫–∞ –Ω–µ –ø–æ–ª—É—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø.*\n\n` +
        `‚ú® *–£–¥–∞—á–∏ –∏ —Ö–æ—Ä–æ—à–µ–≥–æ –¥–Ω—è! –ë–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ - /about *üòä`,
        { parse_mode: 'Markdown' },
      );
    }
  });

  bot.help(async (ctx) => {
    const admin = await AdminModel.findOne({ where: { telegram_id: ctx.from.id } }) as any;

    let help_commands =
      `üìú *–û–±—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:* üëÆ\n\n` +
      `üîπ \`/admins\` - –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤\n` +
      `üîπ \`/get\` - –ü–æ–∏—Å–∫ —á–µ–ª–æ–≤–µ–∫–∞\n` +
      `üîπ \`/delete\` - –£–¥–∞–ª–µ–Ω–∏–µ —á–µ–ª–æ–≤–µ–∫–∞\n` +
      `üîπ \`/update\` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —á–µ–ª–æ–≤–µ–∫–µ\n` +
      `üîπ \`/connection\` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö\n` +
      `üîπ \`/change_pass\` - –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è`;

    if (admin.isSuper) {
      help_commands +=
        `\n\nüõ† *–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:* üëë\n\n` +
        `üö® \`/destroy\` - –£–¥–∞–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞\n` +
        `üì¥ \`/remote_logout {id}\` - –í—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã –¥–ª—è –¥—Ä—É–≥–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞\n` +
        `üòÇ \`/fuck {id}\` - –ü–æ—à—É—Ç–∏—Ç—å –Ω–∞–¥ –¥—Ä—É–≥–∏–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º`;
    }

    ctx.replyWithMarkdown(help_commands, { parse_mode: 'Markdown' });
  });

  bot.command('about', (ctx) => {
    ctx.replyWithMarkdownV2(
      `üîç *–ü–û–ò–°–ö–û–í–´–ô –ë–û–¢* üîç

‚ú® *–û —á—ë–º —ç—Ç–æ—Ç –±–æ—Ç?*\n\n
_–Ø ‚Äî –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –ø–æ–∏—Å–∫–æ–≤–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø–ª–∞—Ç—Ñ–æ—Ä–º.  
–ú–æ—è –±–∞–∑–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ, –Ω–æ –¥–æ—Å—Ç—É–ø –∫ –Ω–µ–π —Å—Ç—Ä–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω._

üîí *–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø?*\n\n
1. –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—É \`/ask\`  
2. –ñ–¥–∏ –æ–¥–æ–±—Ä–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ ‚è≥  

‚ö†Ô∏è *–í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å*\n\n
‚ñ´Ô∏è _–ù–µ—Ç_ –ø—É–±–ª–∏—á–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏ –¥–æ—Å—Ç—É–ø–æ–≤  
‚ñ´Ô∏è _–ù–µ—Ç_ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤—ã–¥–∞—á–∏ –ø—Ä–∞–≤  
‚ñ´Ô∏è –°–ø–∞–º = –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ üö´
‚ñ´Ô∏è –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: 1-3 –¥–Ω—è üìÖ  

üõ° –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞ —Å–æ–±–æ–π –ø—Ä–∞–≤–æ:  
‚ñ´Ô∏è –û—Ç–∫–∞–∑–∞—Ç—å –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –ø—Ä–∏—á–∏–Ω  
‚ñ´Ô∏è –ó–∞–ø—Ä–æ—Å–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é  
‚ñ´Ô∏è –ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞`,
      { parse_mode: "Markdown" }
    );
  });
};